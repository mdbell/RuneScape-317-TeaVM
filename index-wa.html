<!DOCTYPE html>
<html>
<head>
    <title>Main page</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <script type="text/javascript" charset="utf-8" src="target/javascript/classes.wasm-runtime.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/wa.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/config.js"></script>
    <style type="text/css">
      .pointer {cursor: pointer;}
      .dir {cursor: pointer;}
      .file {cursor: pointer;}

      .game {
        margin: 5px;
      }

      #startGame {
        width:125px;
      }

      fieldset{
        width: 250px;
      }
    </style>
</head>
<body>
<canvas id="web-client" class="game pointer" width="765" height="503" tabindex="-1" style="float:left"></canvas>
<script type="text/javascript">
    canvas = document.getElementById("web-client");
    let font = "Helvetica";
    let width = canvas.width;
    let height = canvas.height;
    canvas.onclick = init;
    ctx = canvas.getContext("2d");
    ctx.fillColor = "black";
    ctx.fillRect(0,0, width, height);
    ctx.fillStyle = "white";
    ctx.textAlign = "center";
    ctx.font = "15pt " + font;
    ctx.fillText("Click here to load the game!", width / 2, height / 2);
    ctx.font = "10px " + font;
    ctx.fillText("(To play audio from JavaScript you have to have had a user interact with the webpage in some way)", width / 2, height - 12);
    ctx.textAlign = "start";

    canvas.addEventListener('resize', data =>{
        console.log("This is an example resize event!");
    });

    //User input is required for audio to play on a webpage, so we require them to press a button to start the game
    function init(){
        canvas.onclick = undefined;
        canvas.classList.remove("pointer");
        client = new WebClient(canvas);
        client.load();
    }
</script>
</body>
</html>