<!DOCTYPE html>
<html>
<head>
    <title>Main page</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <script type="text/javascript" charset="utf-8" src="js/timidity.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/howler.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/classes.js"></script>
    <style type="text/css">
      .dir {cursor: pointer;}
      .file {cursor: pointer;}

      .game {
        margin: 5px;
      }

      #startGame {
        width:125px;
      }

      fieldset{
        width: 250px;
      }
    </style>
</head>
<body>
<canvas id="web-client" class="game" width="765" height="503" tabindex="-1" style="float:left"></canvas>
<button onclick = "init()" id="startGame">Start game</button>
<fieldset>
    <legend>FileSystem</legend>
    <label for="file-update-interval">Update:</label>
    <input type="number" value="100" min="100" id="file-update-interval"
           style="width:5em;"/>
    ms
    <table border="1" id="file-view">
        <tr>
            <th colspan="3" data-id="file-refresh" class="pointer" title="Click to refresh"><span
                    id="file-id">/</span></th>
        </tr>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Size</th>
        </tr>
    </table>
</fieldset>
<script type="text/javascript">
    let canvas = document.getElementById("web-client");
    let ctx = canvas.getContext("2d");
    ctx.fillColor = "#FFFFFF";
    ctx.fillRect(0,0, 765, 503);

    //User input is required for audio to play on a webpage, so we require them to press a button to start the game
    function init(){
        window.Timidity  = new timidity("http://localhost:63342/RuneScape-317-TeaVM/317/js/mid/");
        document.getElementById("startGame").setAttribute("disabled", true);
        main(['web-client', 'file-view', 'file-update-interval', 'file-id', '10000']);
    }
</script>
</body>
</html>